<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Ruster by inkel</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Ruster</h1>
        <p>Control your Redis Cluster from the command line</p>

        <p class="view"><a href="https://github.com/inkel/ruster">View the Project on GitHub <small>inkel/ruster</small></a></p>


        <ul>
          <li><a href="https://github.com/inkel/ruster/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/inkel/ruster/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/inkel/ruster">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>
<a name="ruster---a-simple-redis-cluster-administration-tool" class="anchor" href="#ruster---a-simple-redis-cluster-administration-tool"><span class="octicon octicon-link"></span></a>ruster - a simple Redis Cluster Administration tool</h1>

<p>Control your <a href="http://redis.io/">Redis</a> <a href="http://redis.io/topics/cluster-tutorial">Cluster</a> from the command
line.</p>

<h2>
<a name="usage" class="anchor" href="#usage"><span class="octicon octicon-link"></span></a>Usage</h2>

<p><code>ruster</code> relies on <a href="https://github.com/amakawa/redic">redic</a>, the lightweight Redis client. It
currently allows to create a cluster, add and remove nodes, and
execute a command in all nodes in a cluster.</p>

<h3>
<a name="create-a-cluster" class="anchor" href="#create-a-cluster"><span class="octicon octicon-link"></span></a>Create a cluster</h3>

<pre><code>$ ruster create ip:port [ip:port...]
</code></pre>

<p>Creates a cluster with all the indicated nodes, and automatically
shards Redis Cluster 16,384 slots evenly among all of them.</p>

<h3>
<a name="add-a-node" class="anchor" href="#add-a-node"><span class="octicon octicon-link"></span></a>Add a node</h3>

<pre><code>$ ruster add cluster_ip:port ip:port
</code></pre>

<p>Adds <code>ip:port</code> to the cluster. <code>cluster_ip:port</code> must be one of the
nodes that are already part of the cluster.</p>

<h3>
<a name="remove-a-node" class="anchor" href="#remove-a-node"><span class="octicon octicon-link"></span></a>Remove a node</h3>

<pre><code>$ ruster remove cluster_ip:port ip:port
</code></pre>

<p>Removes <code>ip:port</code> from the cluster. <code>cluster_ip:port</code> must be one of the
nodes that are already part of the cluster. The only requirement is
that <code>ip:port</code> isn't the same as <code>cluster_ip:port</code>.</p>

<h3>
<a name="execute-a-command-in-all-nodes" class="anchor" href="#execute-a-command-in-all-nodes"><span class="octicon octicon-link"></span></a>Execute a command in all nodes</h3>

<pre><code>$ ruster call ip:port [CMD ...]
</code></pre>

<p>Executes the <a href="http://redis.io/commands">Redis command</a> in all nodes, displaying
it's result in STDOUT.</p>

<h3>
<a name="reshard" class="anchor" href="#reshard"><span class="octicon octicon-link"></span></a>Reshard</h3>

<pre><code>$ ruster reshard cluster_ip:port slots target_ip:port source_ip:port [...]
</code></pre>

<p>Reshards the cluster at <code>cluster_ip:port</code>, by moving <code>slots</code> slots
from several <code>source_ip:port</code> to <code>target_ip:port</code>.</p>

<h2>
<a name="todo" class="anchor" href="#todo"><span class="octicon octicon-link"></span></a>TODO</h2>

<ul>
<li>documentation</li>
<li>resharding</li>
<li>add interactive interface</li>
<li>add REPL?</li>
<li>fix cluster</li>
<li>check cluster state</li>
<li>cluster information</li>
<li>ASSERTIONS</li>
</ul><h2>
<a name="thanks" class="anchor" href="#thanks"><span class="octicon octicon-link"></span></a>Thanks</h2>

<p>This work wouldn't have been possible without <a href="https://twitter.com/antirez">@antirez</a>
awesome work on Redis, and <a href="https://twitter.com/soveran">@soveran</a> and <a href="https://twitter.com/cyx">@cyx</a> for
their super lightweight Redis client.</p>

<p>Thank you to my dear friends <a href="https://twitter.com/lucasefe">@lucasefe</a>, <a href="https://twitter.com/poteland">@pote</a>
and <a href="https://twitter.com/cuerbot">@elcuervo</a>, who joined the
<a href="https://twitter.com/inkel/status/444638064393326592">conversation on Twitter</a> while I was looking for a name.</p>

<p>Also, I'd like to thank to <a href="https://twitter.com/ErucaSativa">Eruca Sativa</a> and <a href="https://twitter.com/cirsemusic">Cirse</a>
for the music that's currently blasting my speakers while I write
this.</p>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/inkel">inkel</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>